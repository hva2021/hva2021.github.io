function FullScreenMario(){var e=Date.now();ensureLocalStorage(),TonedJS(!0),window.body=document.body,window.bodystyle=body.style,window.verbosity={Maps:!1,Sounds:!1},window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,timer)},window.cancelAnimationFrame=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,window.Uint8ClampedArray=window.Uint8ClampedArray||window.Uint8Array||Array,resetMeasurements(),resetLibrary(),resetEvents(),resetCanvas(),resetMaps(),resetScenery(),resetTriggers(),resetSeed(),resetSounds(),window.luigi=localStorage&&"true"==localStorage.luigi,window.gameon=!0,setMap(1,1),log("It took "+(Date.now()-e)+" milliseconds to start.")}function ensureLocalStorage(){var e=!1;try{window.hasOwnProperty("localStorage")||(window.localStorage={crappy:!0}),window.localStorage&&(e=!0)}catch(n){e=!1}if(!e)throw document.body.innerText="It seems your browser does not allow localStorage!"}function resetMeasurements(){resetUnitsize(4),resetTimer(1e3/60),window.jumplev1=32,window.jumplev2=64,window.ceillev=88,window.ceilmax=104,window.castlev=-48,window.paused=!0,resetGameScreen(),window.parentwindow||(window.parentwindow=!1)}function resetUnitsize(e){window.unitsize=e;for(var n=2;n<=64;++n)window["unitsizet"+n]=unitsize*n,window["unitsized"+n]=unitsize/n;window.scale=unitsized2,window.gravity=round(12*unitsize)/100}function resetTimer(e){e=roundDigit(e,.001),window.timer=window.timernorm=e,window.timert2=2*e,window.timerd2=e/2,window.fps=window.fps_target=roundDigit(1e3/e,.001),window.time_prev=Date.now()}function resetGameScreen(){window.gamescreen=new getGameScreen}function getGameScreen(){resetGameScreenPosition(this),this.middlex=(this.left+this.right)/2,window.botmax=this.height-ceilmax,botmax<unitsize&&(body.innerHTML="<div><br>Your screen isn't high enough. Make it taller, then refresh.</div>"),this.deathheight=this.bottom+48}function resetGameScreenPosition(e){(e=e||window.gamescreen).left=e.top=0,e.bottom=innerHeight,e.right=innerWidth,e.height=innerHeight/unitsize,e.width=innerWidth/unitsize,e.unitheight=innerHeight,e.unitwidth=innerWidth}function resetEvents(){window.TimeHandler=new TimeHandlr({onSpriteCycleStart:"onadding",doSpriteCycleStart:"placed",cycleCheckValidity:"alive",timingDefault:9})}function resetSounds(){window.sounds={},window.theme=!1,window.muted=localStorage&&"true"==localStorage.muted,window.AudioPlayer=new AudioPlayr({directory:"Sounds",getVolumeLocal:function(){return.49},getThemeDefault:function(){return area.theme},library:{Sounds:["Bowser Falls","Bowser Fires","Break Block","Bump","Coin","Ending","Fireball","Firework","Flagpole","Gain Life","Game Over 2","Game Over","Hurry","Into the Tunnel","Jump Small","Jump Super","Kick","Level Complete","Player Dies","Pause","Pipe","Power Down","Powerup Appears","Powerup","Stage Clear","Vine Emerging","World Clear","You Dead"],Themes:["Castle","Overworld","Underwater","Underworld","Star","Sky","Hurry Castle","Hurry Overworld","Hurry Underwater","Hurry Underworld","Hurry Star","Hurry Sky"]}})}function resetQuadrants(){window.QuadsKeeper=new QuadsKeepr({num_rows:5,num_cols:6,screen_width:window.innerWidth,screen_height:window.innerHeight,tolerance:unitsized2,onUpdate:spawnMap,onCollide:!1})}function resetGameState(e){clearAllTimeouts(),resetData(),window.nokeys=window.spawning=window.spawnon=window.notime=window.editing=window.qcount=window.lastscroll=0,window.paused=window.gameon=window.speed=1,e||(window.gamecount=0),resetQuadrants(),window.gamehistory=[],AudioPlayer.pause()}function scrollWindow(e,n){var i=-(e=e||0),t=-(n=n||0);gamescreen.left+=e,gamescreen.right+=e,gamescreen.top+=n,gamescreen.bottom+=n,shiftAll(characters,i,t),shiftAll(solids,i,t),shiftAll(scenery,i,t),shiftAll(QuadsKeeper.getQuadrants(),i,t),shiftElements(texts,i,t),QuadsKeeper.updateQuadrants(i),window.playediting&&scrollEditor(e,n)}function shiftAll(e,n,i){for(var t=e.length-1;t>=0;--t)shiftBoth(e[t],n,i)}function shiftElements(e,n,i){for(var t,o=e.length-1;o>=0;--o)t=e[o],elementShiftLeft(t,n),elementShiftTop(t,i)}function scrollPlayer(e,n,i){var t=player.left,o=player.top;scrollWindow(e,n=n||0),setLeft(player,t,i),setTop(player,o+n*unitsize,i),QuadsKeeper.updateQuadrants()}function mlog(e){verbosity[e]&&log.apply(console,arguments)}